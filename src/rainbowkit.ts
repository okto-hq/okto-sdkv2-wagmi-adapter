import type { Wallet, WalletDetailsParams } from '@rainbow-me/rainbowkit';
import { createConnector } from '@wagmi/core';
import { okto, type OktoParameters } from './connector';

export interface OktoSdkParams {
  params: OktoParameters;
  type: 'google' | 'generic';
}

export const getOktoSdkConnector = ({ params, type }: OktoSdkParams) => {
  let id = 'okto-sdk';
  let name = 'Okto SDK';
  let shortName = 'okto';
  let iconUrl: string = logos.okto;
  let iconBackground = '#ffffff';

  switch (type) {
    case 'google':
      id = 'okto-sdk-google';
      name = 'Login with Google';
      shortName = 'Google';
      iconUrl = logos.google;
      iconBackground = '#ffffff';
      break;
    case 'generic':
    default:
      id = 'okto-sdk-generic';
      name = 'Okto SDK';
      shortName = 'Okto';
      iconUrl = logos.okto;
      iconBackground = '#f2f2f2';
      break;
  }

  const createWalletFn = (): Wallet => ({
    id: id,
    name: name,
    shortName: shortName,
    iconBackground: iconBackground,
    iconUrl: iconUrl,
    createConnector: (walletDetails: WalletDetailsParams) => {
      return createConnector((config) => ({
        ...okto(params)(config),
        ...walletDetails,
      }));
    },
  });

  return createWalletFn;
};

const logos = {
  okto: 'data:image/svg+xml,%3Csvg%20width%3D%22100%22%20height%3D%22100%22%20viewBox%3D%220%200%20100%20100%22%20fill%3D%22none%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%3E%3Cg%20clip-path%3D%22url(%23clip0_1101_18044)%22%3E%3Cpath%20d%3D%22M99.9998%2049.9999C99.9998%2077.6141%2077.6143%2099.9999%2049.9999%2099.9999C22.3858%2099.9999%201.04167e-05%2077.6141%200%2049.9999C-1.04167e-05%2022.3858%2022.3858%201.04167e-05%2049.9999%200C77.614%20-1.04167e-05%2099.9998%2022.3858%2099.9998%2049.9999Z%22%20fill%3D%22url(%23paint0_linear_1101_18044)%22%2F%3E%3Cpath%20fill-rule%3D%22evenodd%22%20clip-rule%3D%22evenodd%22%20d%3D%22M50%2023C35.0883%2023%2023%2035.0883%2023%2050C23%2051.4634%2023.1164%2052.8997%2023.3405%2054.3C23.4887%2055.256%2024.0473%2057.329%2025.0963%2057.9736C26.4055%2058.778%2027.8874%2058.0865%2029.1004%2057.5204L29.1062%2057.5177C30.0775%2057.0644%2032.9291%2055.7352%2034.2334%2055.1272C34.5321%2054.9786%2035.3211%2054.7793%2036.0882%2055.172C37.0471%2055.6629%2037.3287%2056.6712%2037.2716%2057.2725C37.2145%2057.8737%2036.891%2058.6675%2036.0741%2059.0461C35.4205%2059.349%2031.5742%2061.1416%2029.7327%2062.0001C29.3375%2062.1528%2028.4625%2062.7254%2028.1237%2063.7934C27.7003%2065.1284%2028.3605%2066.1587%2028.5918%2066.4548C28.7645%2066.6901%2029.2794%2067.2156%2029.9569%2067.4348C30.8037%2067.7088%2031.531%2067.6042%2032.0989%2067.3451C32.5532%2067.1379%2041.5659%2062.9345%2046.0154%2060.8588C46.3069%2060.7142%2047.0812%2060.5254%2047.8459%2060.9271C48.8018%2061.4292%2049.0769%2062.3754%2049.0287%2062.9595C48.9804%2063.5437%2048.6569%2064.403%2047.8604%2064.7747C47.2231%2065.0721%2041.3038%2067.8283%2038.4238%2069.1693C37.9159%2069.3992%2036.8853%2070.2087%2036.8251%2071.608C36.7498%2073.3572%2037.9596%2074.1863%2038.466%2074.4195C38.8657%2074.6254%2039.9171%2074.9207%2040.9252%2074.4543C41.9333%2073.9879%2052.6462%2068.9915%2057.8766%2066.5516C58.1868%2066.3915%2059.0298%2066.1848%2059.7484%2066.5516C60.6897%2067.0319%2061.0023%2067.8515%2061.0023%2068.4715C61.0023%2069.0914%2060.9742%2069.5462%2059.9934%2070.4248C59.1355%2071.1934%2057.8766%2071.9496%2053.5869%2073.7777C52.1177%2074.4038%2051.1165%2074.8647%2051.2812%2075.6552C51.405%2076.2492%2051.8374%2076.4752%2053.2739%2076.4102C54.7105%2076.3452%2061.1791%2075.8375%2067.6593%2070.4248C73.3804%2065.4739%2077%2058.1597%2077%2050C77%2046.9933%2076.5085%2044.1013%2075.6015%2041.4001C75.2933%2041.5289%2074.9549%2041.6%2074.6%2041.6C73.1641%2041.6%2072%2040.4359%2072%2039C72%2037.9664%2072.6031%2037.0737%2073.4766%2036.6546C68.8306%2028.4991%2060.0575%2023%2050%2023ZM60%2040C60%2041.4359%2058.8359%2042.6%2057.4%2042.6C55.9641%2042.6%2054.8%2041.4359%2054.8%2040C54.8%2038.5641%2055.9641%2037.4%2057.4%2037.4C58.8359%2037.4%2060%2038.5641%2060%2040Z%22%20fill%3D%22white%22%2F%3E%3C%2Fg%3E%3Cdefs%3E%3ClinearGradient%20id%3D%22paint0_linear_1101_18044%22%20x1%3D%2249.9999%22%20y1%3D%220%22%20x2%3D%2249.9999%22%20y2%3D%2299.9999%22%20gradientUnits%3D%22userSpaceOnUse%22%3E%3Cstop%20stop-color%3D%22%236246F5%22%2F%3E%3Cstop%20offset%3D%220.493007%22%20stop-color%3D%22%235166EE%22%2F%3E%3Cstop%20offset%3D%221%22%20stop-color%3D%22%2356B9F9%22%2F%3E%3C%2FlinearGradient%3E%3CclipPath%20id%3D%22clip0_1101_18044%22%3E%3Crect%20width%3D%22100%22%20height%3D%22100%22%20fill%3D%22white%22%2F%3E%3C%2FclipPath%3E%3C%2Fdefs%3E%3C%2Fsvg%3E',
  google:
    'data:image/svg+xml,%3Csvg%20width%3D%2240%22%20height%3D%2240%22%20viewBox%3D%220%200%2040%2040%22%20fill%3D%22none%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%3E%3Crect%20width%3D%2240%22%20height%3D%2240%22%20rx%3D%224%22%20fill%3D%22%23F2F2F2%22%2F%3E%3Cg%20clip-path%3D%22url(%23clip0_710_6227)%22%3E%3Cpath%20d%3D%22M29.6%2020.2273C29.6%2019.5182%2029.5364%2018.8364%2029.4182%2018.1818H20V22.05H25.3818C25.15%2023.3%2024.4455%2024.3591%2023.3864%2025.0682V27.5773H26.6182C28.5091%2025.8364%2029.6%2023.2727%2029.6%2020.2273Z%22%20fill%3D%22%234285F4%22%2F%3E%3Cpath%20d%3D%22M20%2030C22.7%2030%2024.9636%2029.1045%2026.6181%2027.5773L23.3863%2025.0682C22.4909%2025.6682%2021.3454%2026.0227%2020%2026.0227C17.3954%2026.0227%2015.1909%2024.2636%2014.4045%2021.9H11.0636V24.4909C12.7091%2027.7591%2016.0909%2030%2020%2030Z%22%20fill%3D%22%2334A853%22%2F%3E%3Cpath%20d%3D%22M14.4045%2021.9C14.2045%2021.3%2014.0909%2020.6591%2014.0909%2020C14.0909%2019.3409%2014.2045%2018.7%2014.4045%2018.1V15.5091H11.0636C10.3864%2016.8591%2010%2018.3864%2010%2020C10%2021.6136%2010.3864%2023.1409%2011.0636%2024.4909L14.4045%2021.9Z%22%20fill%3D%22%23FBBC04%22%2F%3E%3Cpath%20d%3D%22M20%2013.9773C21.4681%2013.9773%2022.7863%2014.4818%2023.8227%2015.4727L26.6909%2012.6045C24.9591%2010.9909%2022.6954%2010%2020%2010C16.0909%2010%2012.7091%2012.2409%2011.0636%2015.5091L14.4045%2018.1C15.1909%2015.7364%2017.3954%2013.9773%2020%2013.9773Z%22%20fill%3D%22%23E94235%22%2F%3E%3C%2Fg%3E%3Cdefs%3E%3CclipPath%20id%3D%22clip0_710_6227%22%3E%3Crect%20width%3D%2220%22%20height%3D%2220%22%20fill%3D%22white%22%20transform%3D%22translate(10%2010)%22%2F%3E%3C%2FclipPath%3E%3C%2Fdefs%3E%3C%2Fsvg%3E',
};
